{"version":3,"sources":["CartItem.js","Navbar.js","Total.js","Cart.js","App.js","index.js"],"names":["styles","images","height","width","borderRadius","title","fontSize","fontWeight","details","color","CartItem","props","values","price","qty","url","className","src","alt","style","onClick","handlePlusClick","class","handleMinusClick","handleDelete","Navbar","count","Total","total","Cart","product","products","state","index","indexOf","firebase","collection","doc","id","update","initialPrice","catch","err","console","log","delete","loading","onSnapshot","snapshot","docs","map","data","setState","this","item","Fragment","Component","App","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ea2c214f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./index.css\";\r\nfunction CartItem(props) {\r\n  const { title, price, qty, url } = props.values;\r\n  return (\r\n    <div className=\"cart-item\">\r\n      <div className=\"left-block\">\r\n        <img src={url} alt=\"img\" style={styles.images} />\r\n      </div>\r\n      <div className=\"right-block\">\r\n        <div style={styles.title}>{title}</div>\r\n        <div style={styles.details}>Rs {price}</div>\r\n        <div style={styles.details}>Qty:{qty}</div>\r\n        <div className=\"cart-item-actions\">\r\n          <button onClick={() => props.handlePlusClick(props.values)}>\r\n            <i class=\"fas fa-plus-circle\"></i>\r\n          </button>\r\n          <button onClick={() => props.handleMinusClick(props.values)}>\r\n            <i class=\"fas fa-minus-circle\"></i>\r\n          </button>\r\n          <button onClick={() => props.handleDelete(props.values)}>\r\n            <i class=\"fas fa-trash\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst styles = {\r\n  images: {\r\n    height: 110,\r\n    width: 110,\r\n    borderRadius: 4,\r\n  },\r\n  title: {\r\n    fontSize: 25,\r\n    fontWeight: \"bold\",\r\n  },\r\n  details: {\r\n    fontSize: 15,\r\n    color: \"grey\",\r\n  },\r\n};\r\n\r\nexport default CartItem;\r\n","import React from \"react\";\r\n\r\nfunction Navbar(props) {\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"label\">Cart</div>\r\n      <div className=\"cart-image-count\">\r\n        <i className=\"fas fa-shopping-cart\"></i>\r\n        <span className=\"count\">{props.count}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n\r\nfunction Total(props) {\r\n  return <div className=\"navbar footer\">Total : {props.total}</div>;\r\n}\r\nexport default Total;\r\n","import React, { Component } from \"react\";\r\nimport CartItem from \"./CartItem\";\r\nimport Navbar from \"./Navbar\";\r\nimport Total from \"./Total\";\r\n\r\nimport * as firebase from \"firebase\";\r\n\r\nexport class Cart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      products: [],\r\n      loading: true,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"products\")\r\n      .onSnapshot((snapshot) => {\r\n        const products = snapshot.docs.map((doc) => {\r\n          const data = doc.data();\r\n          data[\"id\"] = doc.id;\r\n          return data;\r\n        });\r\n        this.setState({\r\n          products: products,\r\n          loading: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePlusClick = (product) => {\r\n    const { products } = this.state;\r\n    const index = products.indexOf(product);\r\n\r\n    const docRef = firebase\r\n      .firestore()\r\n      .collection(\"products\")\r\n      .doc(products[index].id);\r\n\r\n    docRef\r\n      .update({\r\n        qty: products[index].qty + 1,\r\n        price: products[index].price + products[index].initialPrice,\r\n      })\r\n      .catch((err) => console.log(\"error-> \", err));\r\n  };\r\n  handleMinusClick = (product) => {\r\n    const { products } = this.state;\r\n    const index = products.indexOf(product);\r\n    if (products[index].qty <= 0) {\r\n      return;\r\n    }\r\n    const docRef = firebase\r\n      .firestore()\r\n      .collection(\"products\")\r\n      .doc(products[index].id);\r\n\r\n    docRef\r\n      .update({\r\n        qty: products[index].qty - 1,\r\n        price: products[index].price - products[index].initialPrice,\r\n      })\r\n      .catch((err) => console.log(\"error-> \", err));\r\n  };\r\n  handleDelete = (product) => {\r\n    const { products } = this.state;\r\n    const index = products.indexOf(product);\r\n    const docRef = firebase\r\n      .firestore()\r\n      .collection(\"products\")\r\n      .doc(products[index].id);\r\n\r\n    docRef.delete().catch((err) => {\r\n      console.log(err);\r\n    });\r\n  };\r\n  render() {\r\n    const { products, loading } = this.state;\r\n    var count = 0;\r\n    var total = 0;\r\n    products.map((item) => {\r\n      count += item.qty;\r\n      total += item.price;\r\n    });\r\n    return (\r\n      <React.Fragment>\r\n        <Navbar count={count} />\r\n        {loading && <h1>Loading data...</h1>}\r\n        <div className=\"cart\">\r\n          {products.map((item, index) => (\r\n            <CartItem\r\n              values={item}\r\n              key={index}\r\n              handleMinusClick={this.handleMinusClick}\r\n              handlePlusClick={this.handlePlusClick}\r\n              handleDelete={this.handleDelete}\r\n            />\r\n          ))}\r\n        </div>\r\n        <Total total={total} />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cart;\r\n","import Cart from \"./Cart\";\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Cart />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nimport * as firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDIIvYXm5-p_8NlfsMoLwjhlxF2z5s4pkA\",\r\n  authDomain: \"cart-ff4a5.firebaseapp.com\",\r\n  projectId: \"cart-ff4a5\",\r\n  storageBucket: \"cart-ff4a5.appspot.com\",\r\n  messagingSenderId: \"949188649148\",\r\n  appId: \"1:949188649148:web:ad225a5325c366c0b730b9\",\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}